<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title>Math객체</title>
		<link href="../css/public.css" rel="stylesheet">
		<script>
			// 난수 발생, count - 맞출때까지 고정되어 있어야 하기 때문에 function 위에
			const random = Math.floor(Math.random()*100 +1);
			count = 0;
			values = "";
			
			window.onload = function() {
				inid = document.getElementById('in');
			}
			
			// 확인 버튼 클릭
			function proc1() {
				res = ""; //초기값
				invalue = inid.value.trim(); //공백제거하고 순수한 값만 가져옴
				if(random == invalue){
					count++;
					res += "정답입니다!<br>";
					res += "난수 : " + random + "<br>";
					res += "입력 횟수 : " + count + "<br>";
					values += invalue + " ";
					res += values;
					
				}else if(random > invalue){
					res += "더 큰 수를 입력하세요.<br>";
					count++;
					inid.value = "";
					inid.focus();
					values += invalue + " ";
				}else {
					res += "더 작은 수를 입력하세요.<br>";
					count++;
					inid.value = "";
					inid.focus();
					values += invalue + " ";
				}
				
				//res += values;
				document.getElementById('result1').innerHTML = res; 
			}
			
			function proc2() {
				com = ["가위", "바위", "보"];
				// com = new Array("가위", "바위", "보");
				
				rand = Math.floor(Math.random()*3);
				//com[0], com[1], com[2]
				computer = com[rand];
				
				user = prompt("가위바위보 입력");
				
				res = "컴퓨터 : " + computer + "<br>";
				res += "사용자 : " + user + "<br>";
				
				if(computer == user){
					res += "비겼습니다 <br>";
				}else if(user == "가위" && computer == "보"
						|| user == "바위" && computer == "가위"
						|| user == "보" && computer == "바위"){
					res += "user가 이겼습니다<br>";
					
				}else{
					res += "computer가 이겼습니다<br>";
				}
				
				document.querySelector('#result2').innerHTML = res;
				
			}
			
			function proc3() {
				// 배열 선언
				arr = new Array();
				//arr = new Array(5); ==> arr.push(12)를 넣으면 6번째에 들어감  
				
				// 랜덤 발생
				while(true){
					lotto = Math.floor(Math.random()*45 + 1);
					
					// 배열 요소에 중복인지 아닌지 판별
					idx = arr.indexOf(lotto); //중복된 값이 없으면 -1
					// if(arr.indexOf(lotto) == -1) arr.push(lotto);
					
					if(idx >= 0){ 
						continue;
					}
					// 중복된 값이 없으면 배열에 push
					arr.push(lotto);
					// 배열의 길이가 6이면 종료 - break
					if(arr.length >= 6){
						break;
					}
				}
				res = "arr : " + arr + "<br>";
				arr.sort();
				res += "arr.sort() : " + arr + "<br>";
				// 190, 143, 66, 173, 88, 189
				arr.sort(function(a,b){
					return a - b;
				})
				res += "sort(function(a, b) ) : " + arr + "<br>";
				
 				document.querySelector('#result3').innerHTML = res;
 				//document.querySelector('#result3').innerHTML = arr;
				//document.querySelector('#result3').innerHTML += arr + "<br>"; 
				//이어서 계속 출력함
			}
			
		</script>
	</head>
	<body>
		<div class="box">
			<h3>Math객체</h3>
			난수를 발생한다.<br>
			그 수를 맞추기<br>
			못맞추면 힌트 부여, 입력한 횟수를 구한다.<br>
			<input type="text" id="in">
			<input type="button" value="확인" onclick="proc1()">
			<div id="result1"></div>
		</div>
		
		<div class="box">
			<h3>Math객체</h3>
			가위바위보<br>
			computer는 배열을 이용, 랜덤발생 0~2<br>
			사용자는 prompt를 이용해서 입력<br>
			<input type="button" value="확인" onclick="proc2()">
			<div id="result2"></div>
		</div>
		
		<div class="box">
			<h3>Math객체</h3>
			로또번호(1~45)를 생성하는 프로그램을 생성<br>
			중복제거. 배열을 이용하여 저장<br>
			<input type="button" value="확인" onclick="proc3()">
			<div id="result3"></div>
		</div>
	</body>
</html>